(this["webpackJsonpmy-youtube"]=this["webpackJsonpmy-youtube"]||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(38),o=a.n(r),i=(a(79),a(80),a(43)),s=a(10),l=a(44),u=a.n(l),d=function(e){return"".concat(e,"_").concat((new Date).getTime()+Math.random())},b=function(e){return e<1e3?"".concat(e):e<1e4?(e/=1e3,e=Math.floor(e),"".concat(e,"\ucc9c")):(e/=1e4,(e=Math.floor(e))>1e4?(e/=1e4,e=Math.floor(e),"".concat(e,"\uc5b5")):"".concat(e,"\ub9cc"))},p=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"\ub144 ").concat(t.getMonth(),"\uc6d4 ").concat(t.getDate(),"\uc77c")},h=a(12),j=a.n(h),m=a(2),v=Object(n.memo)((function(e){var t,a=e.data,n=e.fontSize,c=e.display,r=e.description;switch(e.page){case"home":t=j.a.home;break;case"searchResult":t=j.a.searchResult;break;case"playVideo":t=j.a.playVideo;break;default:throw new Error("check videoCardSetting!")}var o="regular"===n?j.a.regular:j.a.small,i="margin"===c?j.a.haveMargin:j.a.haveNone,s="show"===r?j.a.show:j.a.hidden;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"".concat(t," ").concat(j.a.title),children:a.snippet.title}),Object(m.jsx)("p",{className:"".concat(j.a.channelTitle," ").concat(o," ").concat(i),children:a.snippet.channelTitle}),Object(m.jsxs)("p",{className:"".concat(j.a.viewCount," ").concat(o),children:["\uc870\ud68c\uc218 ","".concat(b(a.statistics.viewCount),"\ud68c")]}),Object(m.jsx)("p",{className:"".concat(j.a.publishedDate," ").concat(o),children:p(a.snippet.publishedAt)}),Object(m.jsx)("pre",{className:"".concat(j.a.description," ").concat(s),children:a.snippet.description})]})})),_=a(28),O=a.n(_),f=Object(n.memo)((function(e){var t,a=e.data,n=e.fontSize,c=e.display,r=e.description,o=e.page,i=e.thumbSize;switch(o){case"home":t=O.a.home;break;case"searchResult":t=O.a.searchResult;break;case"playVideo":t=O.a.playVideo;break;default:throw new Error("check videoCardSetting!")}var s=i&&"small"===i?O.a.thumbSizeSmall:O.a.thumbSizeMedium;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("article",{className:"".concat(t),children:[Object(m.jsx)("img",{className:"".concat(s),src:a.snippet.thumbnails.medium.url,alt:"video_thumbnail"}),Object(m.jsx)("div",{className:O.a.metaData,children:Object(m.jsx)(v,{data:a,fontSize:n,display:c,description:r,page:o})})]})})})),x={home:"home",searchResult:"searchResult",playVideo:"playVideo"},w={small:"small",medium:"medium"},g={regular:"regular",small:"small"},y={margin:"margin",none:"none"},N={show:"show",none:"none"},S=function(e){var t=e.datas,a=e.getMostPopularVideos,c=e.selectVideo;return Object(n.useEffect)((function(){a()}),[a]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("section",{className:u.a.home,children:Object(m.jsx)("ul",{className:u.a.videoList,children:null===t||void 0===t?void 0:t.map((function(e){return Object(m.jsx)("li",{className:u.a.videoCard,onClick:function(){return c(e)},children:Object(m.jsx)(f,{data:e,fontSize:g.small,display:y.none,description:N.none,page:x.home,thumbSize:w.medium})},d(e.snippet.publishedAt))}))})})})},k=a(6),C=a.n(k),D=a(14),R=a(7),V=a(114),E=a(115),M=a(45),P=a(65),I=a(66),L=a(67),T=a.n(L),A=a(68),z=T.a.create({baseURL:"https://youtube.googleapis.com/youtube/v3",params:{key:"AIzaSyB6Ihib72gMqqO5Qz9L5DioTEc3Frnb3Lc"}}),F=function(){function e(){Object(P.a)(this,e)}return Object(I.a)(e,null,[{key:"mostPopular",value:function(){var e=Object(M.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("videos",{params:{part:"id,snippet,statistics",chart:"mostPopular",maxResults:t,fields:"items(snippet(title, thumbnails, channelTitle, publishedAt, description),statistics(viewCount, likeCount, dislikeCount), id)"}});case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.items);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchID",value:function(){var e=Object(M.a)(C.a.mark((function e(t,a){var n,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("search",{params:{part:"id",maxResults:t,q:a,fields:"items(id(videoId))"}});case 2:return c=e.sent,e.abrupt("return",Object(A.map)(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.items,"id.videoId").join());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchVideos",value:function(){var e=Object(M.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("videos",{params:{part:"id,snippet,statistics",fields:"items(snippet(title, thumbnails, channelTitle, publishedAt, description),statistics(viewCount, likeCount, dislikeCount),id)",id:t}});case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.items);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),U=C.a.mark(Q),W=C.a.mark(X),G="my-youtube/mostPopular",J=Object(V.a)("PENDING","SUCCESS","FAIL",{prefix:G}),K=J.pending,B=J.success,H=J.fail,q=Object(E.a)({PENDING:function(e){return Object(D.a)(Object(D.a)({},e),{},{error:null})},SUCCESS:function(e,t){return{videos:t.payload,error:null}},FAIL:function(e,t){return Object(D.a)(Object(D.a)({},e),{},{error:t.payload})}},{videos:null,error:null},{prefix:G}),Y=Object(V.a)("GET_MOSTPOPULAR",{prefix:G}).getMostpopular;function Q(){var e,t,a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(R.d)(K());case 3:return n.next=5,Object(R.b)(F.mostPopular,24);case 5:return e=n.sent,n.next=8,Object(R.d)(B(e));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(R.d)(H(new Error((null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"UNKNOWN_ERROR")));case 14:case"end":return n.stop()}}),U,null,[[0,10]])}function X(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.e)("".concat(G,"/GET_MOSTPOPULAR"),Q);case 2:case"end":return e.stop()}}),W)}var Z=a(11),$=C.a.mark(ie),ee=C.a.mark(se),te="my-youtube/selectVideo",ae=Object(V.a)("SUCCESS","FAIL",{prefix:te}),ne=ae.success,ce=ae.fail,re=Object(E.a)({SUCCESS:function(e,t){return{video:t.payload,error:null}},FAIL:function(e,t){return Object(D.a)(Object(D.a)({},e),{},{error:t.payload})}},{video:null,error:null},{prefix:te}),oe=Object(V.a)("GET",{prefix:te}).get;function ie(e){var t,a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(R.d)(ne(e.payload));case 3:return n.next=5,Object(R.c)(600);case 5:return n.next=7,Object(R.d)(Object(Z.d)("/play"));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(R.d)(ce(new Error((null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"UNKNOWN_ERROR")));case 13:case"end":return n.stop()}}),$,null,[[0,9]])}function se(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.e)("".concat(te,"/GET"),ie);case 2:case"end":return e.stop()}}),ee)}var le=function(){var e=Object(s.e)((function(e){return e.mostPopular.videos})),t=Object(s.d)(),a=Object(n.useCallback)((function(){t(Y())}),[t]),c=Object(n.useCallback)((function(e){t(oe(e))}),[t]);return Object(m.jsx)(S,{datas:e,getMostPopularVideos:a,selectVideo:c})},ue=function(){return Object(m.jsx)(le,{})},de=a(50),be=a(9),pe=a.n(be),he=a(27),je=a(31),me=function(e){var t,a=e.toggle,n=e.toggleDescription,c=e.toggleName,r=e.video,o=e.videos,i=e.selectVideo;return Object(m.jsxs)("section",{className:pe.a.playVideo,children:[Object(m.jsxs)("div",{className:pe.a.container,children:[Object(m.jsx)("iframe",{title:"playVideo",id:"ytplayer",typeof:"text/html",src:"https://www.youtube.com/embed/".concat(r&&r.id),allowFullScreen:!0}),Object(m.jsxs)("section",{className:pe.a.title_container,children:[Object(m.jsx)("h2",{children:r.snippet.title}),Object(m.jsxs)("section",{className:pe.a.title_metaData,children:[Object(m.jsxs)("section",{className:pe.a.viewAndDate,children:[Object(m.jsx)("span",{className:pe.a.viewCount,children:"\uc870\ud68c\uc218 ".concat((t=r.statistics.viewCount,Number(t).toLocaleString("ko-kr")),"\ud68c")}),Object(m.jsx)("span",{className:pe.a.publishedAt,children:p(r.snippet.publishedAt)})]}),Object(m.jsxs)("section",{className:pe.a.icons_container,children:[Object(m.jsxs)("div",{className:pe.a.icons,children:[Object(m.jsx)(he.a,{icon:je.c,color:"white",className:pe.a.thumb_icon}),Object(m.jsx)("span",{children:b(r.statistics.likeCount)})]}),Object(m.jsxs)("div",{className:pe.a.icons,children:[Object(m.jsx)(he.a,{icon:je.b,color:"white",className:pe.a.thumb_icon}),Object(m.jsx)("span",{children:b(r.statistics.dislikeCount)})]})]})]})]}),Object(m.jsxs)("section",{className:pe.a.description_container,children:[Object(m.jsx)("pre",{className:a?pe.a.description:pe.a.show,children:r.snippet.description}),Object(m.jsx)("button",{className:pe.a.showMore,onClick:n,children:c})]}),Object(m.jsx)("div",{className:pe.a.underline})]}),Object(m.jsx)("div",{className:pe.a.videoList,children:Object(m.jsx)("ul",{children:o.map((function(e){return Object(m.jsx)("li",{className:pe.a.videoCard,onClick:function(){return i(e)},children:Object(m.jsx)(f,{data:e,fontSize:g.small,display:y.none,description:N.none,page:x.playVideo,thumbSize:w.small})},d(e.snippet.publishedAt))}))})})]})},ve=function(){var e=Object(n.useState)(!0),t=Object(de.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("\ub354\ubcf4\uae30"),o=Object(de.a)(r,2),i=o[0],l=o[1],u=Object(s.e)((function(e){return e.selectVideo.video})),d=Object(s.e)((function(e){return null!==e.searchId.videos?e.searchId.videos:e.mostPopular.videos})),b=Object(s.d)(),p=Object(n.useCallback)((function(e){b(oe(e)),c(!0),l("\ub354\ubcf4\uae30")}),[b]);return Object(m.jsx)(me,{toggle:a,toggleDescription:function(e){c(!a);var t=e.target;"\ub354\ubcf4\uae30"===t.innerText?t.innerText="\uac04\ub7b5\ud788":t.innerText="\ub354\ubcf4\uae30",l(t.innerText)},toggleName:i,video:u,videos:d,selectVideo:p})},_e=function(){return Object(m.jsx)(ve,{})},Oe=a(35),fe=a.n(Oe),xe=function(e){var t=e.searchResult,a=e.selectVideo;return Object(m.jsx)("section",{className:fe.a.searchResult,children:Object(m.jsx)("div",{className:fe.a.container,children:Object(m.jsx)("ul",{className:fe.a.videoList,children:null===t||void 0===t?void 0:t.map((function(e){return Object(m.jsx)("li",{className:fe.a.videoCard,onClick:function(){return a(e)},children:Object(m.jsx)(f,{data:e,fontSize:g.small,display:y.margin,description:N.show,page:x.searchResult,thumbSize:w.medium})},d(e.snippet.publishedAt))}))})})})},we=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.searchId.videos})),a=Object(n.useCallback)((function(t){e(oe(t))}),[e]);return Object(m.jsx)(xe,{searchResult:t,selectVideo:a})},ge=function(){return Object(m.jsx)(we,{})},ye=function(){return Object(m.jsx)("h1",{children:"404 NotFound"})},Ne=function(){return Object(m.jsx)("h1",{children:"Error"})},Se=a(70),ke=a(26),Ce=a(22),De=Object(Ce.a)({basename:"/react-my-youtube-ts"}),Re=a(69),Ve=a(17),Ee=a.n(Ve),Me=function(e){var t=e.handleSubmit,a=e.goHome,c=Object(n.useRef)(null);return Object(m.jsxs)("nav",{className:Ee.a.navbar,children:[Object(m.jsxs)("div",{className:Ee.a.logo,onClick:a,"data-testid":"logo",children:[Object(m.jsx)(he.a,{icon:Re.a,color:"red",className:Ee.a.font_youtube}),Object(m.jsx)("span",{className:Ee.a.title,children:"Youtube"})]}),Object(m.jsxs)("form",{className:Ee.a.searchForm,onSubmit:function(e){var a;e.preventDefault();var n=null===(a=c.current)||void 0===a?void 0:a.value;t(n)},children:[Object(m.jsx)("input",{className:Ee.a.searchInput,type:"text",placeholder:"\uac80\uc0c9",ref:c}),Object(m.jsx)("button",{className:Ee.a.inputBtn,children:Object(m.jsx)(he.a,{icon:je.a,color:"white",className:Ee.a.font_search})})]}),Object(m.jsxs)("div",{className:Ee.a.logIn,children:[Object(m.jsx)(he.a,{icon:je.d,color:"white",className:Ee.a.font_login}),Object(m.jsx)("span",{children:"\ub85c\uadf8\uc778"})]})]})},Pe=C.a.mark(Be),Ie=C.a.mark(He),Le=C.a.mark(qe),Te="my-youtube/searchId",Ae=Object(V.a)("PENDING","SUCCESS","FAIL",{prefix:Te}),ze=Ae.pending,Fe=Ae.success,Ue=Ae.fail,We=Object(E.a)({PENDING:function(e){return Object(D.a)(Object(D.a)({},e),{},{error:null})},SUCCESS:function(e,t){return{videos:t.payload,error:null}},FAIL:function(e,t){return Object(D.a)(Object(D.a)({},e),{},{error:t.payload})}},{videos:null,error:null},{prefix:Te}),Ge=Object(V.a)("GET_VIDEOS","SET_VIDEOS",{prefix:Te}),Je=Ge.getVideos,Ke=Ge.setVideos;function Be(e){var t,a,n,c;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(R.d)(ze());case 3:return r.next=5,Object(R.b)(F.searchID,24,e.payload);case 5:return t=r.sent,r.next=8,Object(R.b)(F.searchVideos,t);case 8:return a=r.sent,r.next=11,Object(R.d)(Fe(a));case 11:return r.next=13,Object(R.d)(Object(Z.d)("/searchResult"));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(R.d)(Ue(new Error((null===r.t0||void 0===r.t0||null===(n=r.t0.response)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.error)||"UNKNOWN_ERROR")));case 19:case"end":return r.stop()}}),Pe,null,[[0,15]])}function He(){var e,t,a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(R.b)(F.mostPopular,24);case 3:return e=n.sent,n.next=6,Object(R.d)(Fe(e));case 6:return n.next=8,Object(R.d)(Object(Z.d)("/"));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(R.d)(Ue(new Error((null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"UNKNOWN_ERROR")));case 14:case"end":return n.stop()}}),Ie,null,[[0,10]])}function qe(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.e)("".concat(Te,"/GET_VIDEOS"),Be);case 2:return e.next=4,Object(R.e)("".concat(Te,"/SET_VIDEOS"),He);case 4:case"end":return e.stop()}}),Le)}var Ye=function(){var e=Object(s.d)(),t=Object(n.useCallback)((function(t){e(Je(t))}),[e]),a=Object(n.useCallback)((function(){e(Ke())}),[e]);return Object(m.jsx)(Me,{handleSubmit:t,goHome:a})};var Qe=function(){return Object(m.jsxs)(Se.ErrorBoundary,{FallbackComponent:Ne,children:[Object(m.jsx)(Ye,{}),Object(m.jsx)(ke.a,{history:De,children:Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:"/",component:ue}),Object(m.jsx)(i.a,{exact:!0,path:"/play",component:_e}),Object(m.jsx)(i.a,{exact:!0,path:"/searchResult",component:ge}),Object(m.jsx)(i.a,{component:ye})]})})]})},Xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ze(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var $e=a(74),et=a(25),tt=a(72),at=function(e){return Object(et.combineReducers)({mostPopular:q,searchId:We,selectVideo:re,router:Object(ke.b)(e)})},nt=a(73),ct=C.a.mark(rt);function rt(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(nt.a)([X(),qe(),se()]);case 2:case"end":return e.stop()}}),ct)}var ot=a(63),it=function(){var e=Object($e.a)(),t=Object(et.createStore)(at(De),Object(tt.composeWithDevTools)(Object(et.applyMiddleware)(e,Object(ot.a)(De))));return e.run(rt),t}();o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(s.a,{store:it,children:Object(m.jsx)(Qe,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-my-youtube-ts",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-my-youtube-ts","/service-worker.js");Xe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ze(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ze(t,e)}))}}()},12:function(e,t,a){e.exports={home:"MetaData_home__202qD",searchResult:"MetaData_searchResult__3zdo8",playVideo:"MetaData_playVideo__1oj6Z",title:"MetaData_title__1NHq3",channelTitle:"MetaData_channelTitle__2ITrg",viewCount:"MetaData_viewCount__1TkId",publishedDate:"MetaData_publishedDate__1YYho",regular:"MetaData_regular__2FdLs",small:"MetaData_small__2HY3K",haveMargin:"MetaData_haveMargin__1u9iW",haveNone:"MetaData_haveNone__2_y9j",description:"MetaData_description__3Qepz",show:"MetaData_show__1acs9",hidden:"MetaData_hidden__3q3rj"}},17:function(e,t,a){e.exports={navbar:"Navbar_navbar__3v9c6",logo:"Navbar_logo__3tUGc",font_youtube:"Navbar_font_youtube__1Jfnr",title:"Navbar_title__2CZbp",searchForm:"Navbar_searchForm__2J8Cb",searchInput:"Navbar_searchInput__2jE8o",inputBtn:"Navbar_inputBtn__3fDiG",font_search:"Navbar_font_search__3ROM5",logIn:"Navbar_logIn__11j-w",font_login:"Navbar_font_login__2Jkrp"}},28:function(e,t,a){e.exports={home:"VideoCard_home__2wpM8",metaData:"VideoCard_metaData__2wnBO",searchResult:"VideoCard_searchResult__3g15U",thumbSizeMedium:"VideoCard_thumbSizeMedium__1ynNm",playVideo:"VideoCard_playVideo__7ffDP",thumbSizeSmall:"VideoCard_thumbSizeSmall__3DZBz"}},35:function(e,t,a){e.exports={searchResult:"SearchResult_searchResult__1WHkW",container:"SearchResult_container__6z4IJ",videoList:"SearchResult_videoList__sJy_L"}},44:function(e,t,a){e.exports={home:"Home_home__2XeXQ",videoList:"Home_videoList__-1WVh",videoCard:"Home_videoCard__2lvuC"}},79:function(e,t,a){},80:function(e,t,a){},9:function(e,t,a){e.exports={playVideo:"Play_playVideo__2oiq8",container:"Play_container__20LK4",videoList:"Play_videoList__2hLIa",videoCard:"Play_videoCard__33TAU",title_container:"Play_title_container__33ewD",title_metaData:"Play_title_metaData__TicOC",thumb_icon:"Play_thumb_icon__gLf7V",icons_container:"Play_icons_container__6gsKt",icons:"Play_icons__1nXJK",viewCount:"Play_viewCount__lzd7q",publishedAt:"Play_publishedAt__2O362",description_container:"Play_description_container__20KnL",description:"Play_description__2f4wv",show:"Play_show__HaFYK",showMore:"Play_showMore__coS31",underline:"Play_underline__3JJQA"}}},[[112,1,2]]]);
//# sourceMappingURL=main.e0e51801.chunk.js.map